<!-- HTML header for doxygen 1.13.2-->
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=11" />
  <meta name="generator" content="Doxygen 1.12.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NEML2: Thermosetting Pyrolysis</title>
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="clipboard.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
window.MathJax = {
  loader: {load: ['[tex]/ams', '[tex]/physics', '[tex]/boldsymbol']},
  tex: {packages: {'[+]': ['ams', 'physics', 'boldsymbol']},
        tags: 'ams'}
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-tabs.js" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
  <script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
  <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
  <!-- Demo animations -->
  <script type="text/javascript" src="anime.min.js"></script>
  <script type="text/javascript" src="work-dispatcher.js"></script>
  <script type="text/javascript" src="static-hybrid-scheduler.js"></script>
  <script type="text/javascript" src="simple-scheduler-demo.js"></script>
  <script type="text/javascript" src="static-hybrid-scheduler-demo.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init();
    DoxygenAwesomeParagraphLink.init();
    DoxygenAwesomeInteractiveToc.init();
    DoxygenAwesomeTabs.init();
    SimpleSchedulerDemo.init();
    StaticHybridSchedulerDemo.init();
  </script>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr id="projectrow">
              <td id="projectalign">
                <div id="projectname">NEML2<span
                    id="projectnumber">&#160;2.0.0</span>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('thermosetting-pyrolysis.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Thermosetting Pyrolysis</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#autotoc_md44">Framework</a>
  </li>
  <li class="level1">
    <a href="#autotoc_md45">Reaction kinetics</a>
  </li>
  <li class="level1">
    <a href="#autotoc_md46">Control volume</a>
  </li>
  <li class="level1">
    <a href="#autotoc_md47">Implementation details</a>
  </li>
  <li class="level1">
    <a href="#autotoc_md48">Example Input File</a>
  </li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md__2home_2runner_2work_2neml2_2neml2_2doc_2content_2physics_2thermosetting__pyrolysis"></a></p>
<p>This example demonstrates the use of the chemical reactions physics module to compose models for pyrolysis kinetics of a thermoset material, where a binder is burnt into char. The framework and usage of the model is explained below, with both mathematical formulations and example input files.</p>
<h1><a class="anchor" id="autotoc_md44"></a>
Framework</h1>
<p>The thermosetting pyroslysis processs of a binder-particle composite is shown schematically in the <a class="el" href="#controlmass">figure below</a>. This is a temperature-controlled process in which the precursor (the binder) gets decomposed into gas and a residue solid. A portion of the gas is trapped inside the binder and/or the solid. It is assumed that the particle phase does not participate in the reaction and its mass remains constant. It is also assumed that the residue does not further decompose or react.</p>
<p><a class="anchor" id="controlmass"></a> </p><div class="image">
<object type="image/svg+xml" data="pyrolysis_controlmass.svg" width="95%" style="pointer-events: none;"></object>
<div class="caption">
Mass conservative system of a binder-particle composite under the pyrolysis process at the (a) initial, (b) intermediate, and (c) final state.</div></div>
    <p>Let \( \omega_i \) with \(i=p,b,g,c\) denote the current weight fraction of the particle, binder, gas, and char, respectively. When the reaction is complete, all of the binder gets converted to char with final yield (often experimentally measured using thermogravimetric analysis, or TGA).</p>
<h1><a class="anchor" id="autotoc_md45"></a>
Reaction kinetics</h1>
<p>In this example, the reaction kinetics is defined by the <a class="el" href="syntax-models.html#contractinggeometry">contracting geometry model</a>, i.e.   </p><p class="formulaDsp">
\[
    \dot{\alpha} = k \left( 1-\alpha \right)^n,
\]
</p>
<p> where the reaction coefficient \(k\) is temperature dependent following an Arrhenius relation.</p>
<h1><a class="anchor" id="autotoc_md46"></a>
Control volume</h1>
<p>To couple with other physics based on control volume, we consider the control volume shown in <a class="el" href="#pyrolysis_rve">figure below</a>,</p>
<p><a class="anchor" id="pyrolysis_rve"></a> </p><div class="image">
<object type="image/svg+xml" data="pyrolysis_rve.svg" width="50%" style="pointer-events: none;"></object>
<div class="caption">
Schematics of the Representative Volume Element (RVE) (solid line) at a given state during pyrolysis, depicting the non-reactive particles, the binder, char, close pores, and open pore (with no gas). The dashed line depicts the control mass of the reaction system.</div></div>
    <p>Within the RVE, we track four independent state variables: \( \omega_b, \omega_c, \omega_g, \varphi_{o} \), where \(\omega_b\), \(\omega_c\), and \(\omega_g\) are the mass fraction of the binder, char, and gas, respectively; \(\varphi_{o}\) is the volume fraction of the open pore.</p>
<p>Thus, the effective volume of the RVE can be calculated as   </p><p class="formulaDsp">
\[
    V = \dfrac{M_\mathrm{ref}}{1-\varphi_o} \left( \dfrac{\omega_b}{\rho_b} + \dfrac{\omega_p}{\rho_p} + \dfrac{\omega_c}{\rho_s} + \dfrac{\omega_g}{\rho_g} \right),
\]
</p>
<p> with \(\rho\) as the mass density.</p>
<p>We define \(\mu \in [0, 1]\) as the instantaneous ratio between the amount of gas trapped in closed pores and the total amount of gas produced, i.e.   </p><p class="formulaDsp">
\[
    \dot{\omega}_g = \mu \left( \dot{\omega}_g + \dot{\omega}_{g, o} \right).
\]
</p>
<p> Following conservation of mass, the gas production rate can be expressed as   </p><p class="formulaDsp">
\[
    \dot{\omega}_g = -\mu \left( \dot{\omega}_b + \dot{\omega}_c \right).
\]
</p>
<p>Finally, the production rate of open pore is given as   </p><p class="formulaDsp">
\[
    \dot{\varphi}_{o} = \zeta \dot{\alpha},
\]
</p>
<p> where \( \zeta \) is total volume fraction of the open pore upon reaction completion.</p>
<h1><a class="anchor" id="autotoc_md47"></a>
Implementation details</h1>
<p>The following table summarizes the relationship between the mathematical expressions and the NEML2 models. </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Expression   </th><th class="markdownTableHeadLeft">Syntax    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">\( \dot{\alpha} = k \left( 1-\alpha \right)^n \)   </td><td class="markdownTableBodyLeft"><a class="el" href="syntax-models.html#contractinggeometry">ContractingGeometry</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">\(k = k_0 \exp{\dfrac{-Q}{RT}} \)   </td><td class="markdownTableBodyLeft"><a class="el" href="syntax-models.html#arrheniusparameter">ArrheniusParameter</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">\(V = \dfrac{M_\mathrm{ref}}{1-\varphi_o} \left( \dfrac{\omega_b}{\rho_b} + \dfrac{\omega_p}{\rho_p} + \dfrac{\omega_c}{\rho_s} + \dfrac{\omega_g}{\rho_g} \right) \)   </td><td class="markdownTableBodyLeft"><a class="el" href="syntax-models.html#effectivevolume">EffectiveVolume</a>   </td></tr>
</table>
<p>The state variables are integrated in time using the backward-Euler scheme.</p>
<h1><a class="anchor" id="autotoc_md48"></a>
Example Input File</h1>
<div class="fragment"><div class="line">nbatch = &#39;(1)&#39;</div>
<div class="line">nstep = 100</div>
<div class="line"> </div>
<div class="line"># reaction mechanism</div>
<div class="line">Y = 0.5835777126099713 # yield</div>
<div class="line">n = 1.0 # reaction order</div>
<div class="line">k0 = 0.04210147513030456 # reaction rate coefficient</div>
<div class="line">Q = 21191.61425138572 # J/mol</div>
<div class="line">R = 8.31446261815324 # J/K/mol</div>
<div class="line"> </div>
<div class="line"># initial mass fraction</div>
<div class="line">wc0 = 0 # char (residue)</div>
<div class="line">wb0 = 1 # binder (precursor)</div>
<div class="line"> </div>
<div class="line"># control volume</div>
<div class="line">mu = 0.2</div>
<div class="line">zeta = 0.05</div>
<div class="line"> </div>
<div class="line">[Tensors]</div>
<div class="line">  [yield]</div>
<div class="line">    type = Scalar</div>
<div class="line">    values = &#39;${Y}&#39;</div>
<div class="line">  []</div>
<div class="line">  [endtime]</div>
<div class="line">    type = Scalar</div>
<div class="line">    values = &#39;2700&#39;</div>
<div class="line">    batch_shape = &#39;${nbatch}&#39;</div>
<div class="line">  []</div>
<div class="line">  [times]</div>
<div class="line">    type = LinspaceScalar</div>
<div class="line">    start = 0</div>
<div class="line">    end = endtime</div>
<div class="line">    nstep = &#39;${nstep}&#39;</div>
<div class="line">  []</div>
<div class="line">  [T]</div>
<div class="line">    type = LinspaceScalar</div>
<div class="line">    start = &#39;300&#39;</div>
<div class="line">    end = &#39;1500&#39;</div>
<div class="line">    nstep = &#39;${nstep}&#39;</div>
<div class="line">  []</div>
<div class="line">[]</div>
<div class="line"> </div>
<div class="line">[Drivers]</div>
<div class="line">  [driver]</div>
<div class="line">    type = TransientDriver</div>
<div class="line">    model = &#39;model&#39;</div>
<div class="line">    prescribed_time = &#39;times&#39;</div>
<div class="line">    time = &#39;forces/t&#39;</div>
<div class="line"> </div>
<div class="line">    force_Scalar_names = &#39;forces/T&#39;</div>
<div class="line">    force_Scalar_values = &#39;T&#39;</div>
<div class="line"> </div>
<div class="line">    show_input_axis = false</div>
<div class="line">    show_output_axis = false</div>
<div class="line">    show_parameters = false</div>
<div class="line"> </div>
<div class="line">    ic_Scalar_names = &#39;state/wb state/wc&#39;</div>
<div class="line">    ic_Scalar_values = &#39;${wb0} ${wc0}&#39;</div>
<div class="line">    save_as = &#39;result.pt&#39;</div>
<div class="line"> </div>
<div class="line">    verbose = false</div>
<div class="line">  []</div>
<div class="line">  [regression]</div>
<div class="line">    type = TransientRegression</div>
<div class="line">    driver = &#39;driver&#39;</div>
<div class="line">    reference = &#39;gold/result.pt&#39;</div>
<div class="line">  []</div>
<div class="line">[]</div>
<div class="line"> </div>
<div class="line">[Solvers]</div>
<div class="line">  [newton]</div>
<div class="line">    type = Newton</div>
<div class="line">    verbose = false</div>
<div class="line">  []</div>
<div class="line">[]</div>
<div class="line"> </div>
<div class="line">[Models]</div>
<div class="line">  [reaction_coef]</div>
<div class="line">    type = ArrheniusParameter</div>
<div class="line">    reference_value = &#39;${k0}&#39;</div>
<div class="line">    activation_energy = &#39;${Q}&#39;</div>
<div class="line">    ideal_gas_constant = &#39;${R}&#39;</div>
<div class="line">    temperature = &#39;forces/T&#39;</div>
<div class="line">    parameter = &#39;state/k&#39;</div>
<div class="line">  []</div>
<div class="line">  [reaction_rate]</div>
<div class="line">    type = ContractingGeometry</div>
<div class="line">    reaction_coef = &#39;reaction_coef&#39;</div>
<div class="line">    reaction_order = &#39;${n}&#39;</div>
<div class="line">    conversion_degree = &#39;state/alpha&#39;</div>
<div class="line">    reaction_rate = &#39;state/alpha_rate&#39;</div>
<div class="line">  []</div>
<div class="line">  [reaction_ode]</div>
<div class="line">    type = ScalarBackwardEulerTimeIntegration</div>
<div class="line">    variable = &#39;state/alpha&#39;</div>
<div class="line">  []</div>
<div class="line">  [reaction]</div>
<div class="line">    type = ComposedModel</div>
<div class="line">    models = &#39;reaction_rate reaction_ode&#39;</div>
<div class="line">  []</div>
<div class="line">  [solve_reaction]</div>
<div class="line">    type = ImplicitUpdate</div>
<div class="line">    implicit_model = &#39;reaction&#39;</div>
<div class="line">    solver = &#39;newton&#39;</div>
<div class="line">  []</div>
<div class="line">  [binder_rate]</div>
<div class="line">    type = ScalarLinearCombination</div>
<div class="line">    from_var = &#39;state/alpha_rate&#39;</div>
<div class="line">    coefficients = &#39;-1&#39;</div>
<div class="line">    to_var = &#39;state/wb_rate&#39;</div>
<div class="line">  []</div>
<div class="line">  [char_rate]</div>
<div class="line">    type = ScalarLinearCombination</div>
<div class="line">    from_var = &#39;state/alpha_rate&#39;</div>
<div class="line">    coefficients = &#39;${Y}&#39;</div>
<div class="line">    to_var = &#39;state/wc_rate&#39;</div>
<div class="line">  []</div>
<div class="line">  [gas_rate]</div>
<div class="line">    type = ScalarLinearCombination</div>
<div class="line">    from_var = &#39;state/wb_rate state/wc_rate&#39;</div>
<div class="line">    coefficients = &#39;-${mu} -${mu}&#39;</div>
<div class="line">    to_var = &#39;state/wg_rate&#39;</div>
<div class="line">  []</div>
<div class="line">  [open_pore_rate]</div>
<div class="line">    type = ScalarLinearCombination</div>
<div class="line">    from_var = &#39;state/alpha_rate&#39;</div>
<div class="line">    coefficients = &#39;${zeta}&#39;</div>
<div class="line">    to_var = &#39;state/phio_rate&#39;</div>
<div class="line">  []</div>
<div class="line">  [binder]</div>
<div class="line">    type = ScalarForwardEulerTimeIntegration</div>
<div class="line">    variable = &#39;state/wb&#39;</div>
<div class="line">  []</div>
<div class="line">  [char]</div>
<div class="line">    type = ScalarForwardEulerTimeIntegration</div>
<div class="line">    variable = &#39;state/wc&#39;</div>
<div class="line">  []</div>
<div class="line">  [gas]</div>
<div class="line">    type = ScalarForwardEulerTimeIntegration</div>
<div class="line">    variable = &#39;state/wg&#39;</div>
<div class="line">  []</div>
<div class="line">  [open_pore]</div>
<div class="line">    type = ScalarForwardEulerTimeIntegration</div>
<div class="line">    variable = &#39;state/phio&#39;</div>
<div class="line">  []</div>
<div class="line">  [model]</div>
<div class="line">    type = ComposedModel</div>
<div class="line">    models = &quot;solve_reaction reaction_rate</div>
<div class="line">              binder_rate char_rate gas_rate open_pore_rate</div>
<div class="line">              binder char gas open_pore&quot;</div>
<div class="line">    additional_outputs = &#39;state/alpha&#39;</div>
<div class="line">  []</div>
<div class="line">[]</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
