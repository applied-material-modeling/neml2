{
  "version": 8,
  "configurePresets": [
    {
      "name": "Development",
      "description": "C++ backend, Python binding, tests, and documentation",
      "binaryDir": "${sourceDir}/build/${presetName}",
      "installDir": "${sourceDir}/install/${presetName}",
      "generator": "Ninja",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Debug",
        "NEML2_TESTS": "ON",
        "NEML2_RUNNER": "OFF",
        "NEML2_CPU_PROFILER": "OFF",
        "NEML2_PYBIND": "ON",
        "NEML2_DOC": "ON"
      }
    },
    {
      "name": "Benchmarking",
      "description": "Runner for benchmarking and profiling",
      "binaryDir": "${sourceDir}/build/${presetName}",
      "installDir": "${sourceDir}/install/${presetName}",
      "generator": "Ninja",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Release",
        "NEML2_TESTS": "ON",
        "NEML2_RUNNER": "ON",
        "NEML2_CPU_PROFILER": "ON",
        "NEML2_PYBIND": "OFF",
        "NEML2_DOC": "OFF"
      }
    },
    {
      "name": "Coverage",
      "description": "Generate coverage report from unit tests",
      "binaryDir": "${sourceDir}/build/${presetName}",
      "installDir": "${sourceDir}/install/${presetName}",
      "generator": "Ninja",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "Coverage",
        "NEML2_TESTS": "ON",
        "NEML2_UNIT": "ON",
        "NEML2_REGRESSION": "OFF",
        "NEML2_VERIFICATION": "OFF",
        "NEML2_RUNNER": "OFF",
        "NEML2_CPU_PROFILER": "OFF",
        "NEML2_PYBIND": "OFF",
        "NEML2_DOC": "OFF"
      }
    },
    {
      "name": "Release",
      "description": "Production build with HTML documentation for C++ backend and Python bindings",
      "binaryDir": "${sourceDir}/build/${presetName}",
      "installDir": "${sourceDir}/install/${presetName}",
      "generator": "Ninja",
      "cacheVariables": {
        "CMAKE_BUILD_TYPE": "RelWithDebInfo",
        "NEML2_TESTS": "OFF",
        "NEML2_RUNNER": "OFF",
        "NEML2_CPU_PROFILER": "OFF",
        "NEML2_PYBIND": "ON",
        "NEML2_DOC": "ON"
      }
    }
  ],
  "buildPresets": [
    {
      "name": "C++ Backend",
      "description": "C++ backend with tests",
      "configurePreset": "Development",
      "targets": [
        "unit_tests",
        "regression_tests",
        "verification_tests"
      ]
    },
    {
      "name": "Python Bindings",
      "description": "Python bindings with tests",
      "configurePreset": "Development",
      "targets": [
        "python-stub"
      ]
    },
    {
      "name": "Documentation",
      "description": "HTML documentation",
      "configurePreset": "Development",
      "targets": [
        "html"
      ]
    }
  ]
}
